<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Placeholder.dev - Advanced Search Dashboard</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
        <style>
        * { 
            font-family: 'Inter', sans-serif; 
            scroll-behavior: smooth;
        }
        
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            --secondary-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --accent-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --glass-bg: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.2);
            --dark-glass: rgba(0, 0, 0, 0.2);
        }
        
        body { 
            background: var(--primary-gradient);
            min-height: 100vh; 
            position: relative; 
            overflow-x: hidden;
            background-attachment: fixed;
        }
        
        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top: 4px solid #4facfe;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Enhanced Animated Background with Stars */
        .bg-animation { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            pointer-events: none; 
            z-index: -1; 
            overflow: hidden;
        }
        
        /* Starfield Animation */
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle var(--twinkle-duration) infinite ease-in-out;
        }
        
        .star::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            background: inherit;
            border-radius: inherit;
            transform: translate(-50%, -50%);
            filter: blur(1px);
        }
        
        .star.small {
            width: 2px;
            height: 2px;
            --twinkle-duration: 3s;
        }
        
        .star.medium {
            width: 3px;
            height: 3px;
            --twinkle-duration: 4s;
        }
        
        .star.large {
            width: 4px;
            height: 4px;
            --twinkle-duration: 5s;
        }
        
        .star.shooting {
            width: 2px;
            height: 2px;
            background: linear-gradient(90deg, #fff, transparent);
            animation: shooting-star 8s linear infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { 
                opacity: 0.3; 
                transform: scale(1);
            }
            50% { 
                opacity: 1; 
                transform: scale(1.2);
            }
        }
        
        @keyframes shooting-star {
            0% {
                transform: translateX(-100px) translateY(0) rotate(45deg);
                opacity: 1;
            }
            10% {
                opacity: 1;
            }
            20% {
                opacity: 0;
            }
            100% {
                transform: translateX(calc(100vw + 100px)) translateY(calc(100vh + 100px)) rotate(45deg);
                opacity: 0;
            }
        }
        
        /* Floating Orbs with Enhanced Effects */
        .floating-orb {
            position: absolute; 
            border-radius: 50%;
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.02));
            backdrop-filter: blur(40px);
            animation: float-enhanced 25s infinite ease-in-out;
            box-shadow: 0 8px 32px rgba(255, 255, 255, 0.1);
        }
        
        .orb-1 { 
            width: 150px; 
            height: 150px; 
            top: 10%; 
            left: 5%; 
            animation-delay: 0s;
            background: linear-gradient(45deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.1));
        }
        .orb-2 { 
            width: 250px; 
            height: 250px; 
            top: 60%; 
            right: 10%; 
            animation-delay: -8s;
            background: linear-gradient(45deg, rgba(250, 112, 154, 0.3), rgba(254, 225, 64, 0.1));
        }
        .orb-3 { 
            width: 120px; 
            height: 120px; 
            bottom: 20%; 
            left: 20%; 
            animation-delay: -15s;
            background: linear-gradient(45deg, rgba(79, 172, 254, 0.3), rgba(0, 242, 254, 0.1));
        }
        .orb-4 { 
            width: 180px; 
            height: 180px; 
            top: 30%; 
            right: 30%; 
            animation-delay: -20s;
            background: linear-gradient(45deg, rgba(240, 147, 251, 0.3), rgba(245, 101, 101, 0.1));
        }
        
        @keyframes float-enhanced {
            0%, 100% { 
                transform: translate(0, 0) scale(1) rotate(0deg); 
                opacity: 0.4; 
            }
            25% { 
                transform: translate(50px, -40px) scale(1.2) rotate(90deg); 
                opacity: 0.8; 
            }
            50% { 
                transform: translate(-30px, 30px) scale(0.8) rotate(180deg); 
                opacity: 0.3; 
            }
            75% { 
                transform: translate(40px, 50px) scale(1.1) rotate(270deg); 
                opacity: 0.6; 
            }
        }
        
        /* Enhanced Glass Effects with 3D */
        .glass {
            background: var(--glass-bg) !important;
            backdrop-filter: blur(30px) !important;
            border: 1px solid var(--glass-border) !important;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
            position: relative;
            transition: all 0.3s ease;
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        .glass:hover {
            transform: translateY(-2px) rotateX(5deg) rotateY(5deg);
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
        }
        
        /* 3D Card Effects */
        .card-3d {
            transform-style: preserve-3d;
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            perspective: 1000px;
        }
        
        .card-3d:hover {
            transform: rotateY(10deg) rotateX(5deg) translateZ(20px);
        }
        
        .card-3d .card-front,
        .card-3d .card-back {
            backface-visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .card-3d .card-back {
            transform: rotateY(180deg);
        }
        
        .card-3d.flipped .card-front {
            transform: rotateY(180deg);
        }
        
        .card-3d.flipped .card-back {
            transform: rotateY(0deg);
        }
        
        /* Floating Elements with Shadows */
        .floating {
            animation: float 6s ease-in-out infinite;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
        }
        
        /* Depth Layers */
        .depth-1 { transform: translateZ(10px); }
        .depth-2 { transform: translateZ(20px); }
        .depth-3 { transform: translateZ(30px); }
        .depth-4 { transform: translateZ(40px); }
        
        /* Perspective Scrolling */
        .perspective-container {
            perspective: 1000px;
            perspective-origin: center center;
        }
        
        .perspective-scroll {
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
        }
        
        .glass::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
        }
        
        .glass-dark {
            background: var(--dark-glass);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Enhanced Buttons */
        .btn-primary {
            background: var(--secondary-gradient) !important;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            border: none;
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.3) !important;
        }
        
        .btn-primary::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        
        .btn-primary:hover::after {
            transform: translateX(100%);
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover { 
            transform: translateY(-4px) scale(1.05); 
            box-shadow: 0 20px 40px rgba(79, 172, 254, 0.4);
        }
        
        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #fff !important;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(20px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .btn-secondary.active {
            background: var(--accent-gradient);
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(250, 112, 154, 0.4);
        }
        
        /* Enhanced Search */
        .search-input {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(25px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .search-input:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(79, 172, 254, 0.6);
            box-shadow: 0 0 0 8px rgba(79, 172, 254, 0.1), inset 0 2px 10px rgba(0, 0, 0, 0.1);
            transform: translateY(-3px);
        }
        
        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        /* Enhanced Dropdowns */
        .dropdown, select.search-input {
            background: rgba(30, 41, 59, 0.95) !important;
            color: #fff !important;
            border: 1px solid rgba(255,255,255,0.2);
        }
        select.search-input option {
            background: #1e293b;
            color: #fff;
        }
        
        /* Enhanced Bookmarks */
        .bookmark-item {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .bookmark-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-gradient);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .bookmark-item:hover::before {
            transform: scaleX(1);
        }
        
        .bookmark-item:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
        }
        
        .bookmark-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); 
            gap: 2rem; 
            padding: 1.5rem; 
        }
        
        /* Enhanced Animations */
        .fade-in-up { 
            animation: fade-in-up 1s cubic-bezier(0.4, 0, 0.2, 1) forwards; 
            opacity: 0; 
            transform: translateY(40px); 
        }
        
        @keyframes fade-in-up { 
            to { 
                opacity: 1; 
                transform: translateY(0); 
            } 
        }
        
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        
        /* Page Transitions */
        .tab-content {
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: center center;
        }
        
        .tab-content.hidden {
            opacity: 0;
            transform: scale(0.95) translateY(20px);
            pointer-events: none;
        }
        
        .tab-content:not(.hidden) {
            opacity: 1;
            transform: scale(1) translateY(0);
            animation: tabSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes tabSlideIn {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        /* Loading Skeletons */
        .skeleton {
            background: linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: 4px;
        }
        
        .skeleton-text {
            height: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .skeleton-text.short {
            width: 60%;
        }
        
        .skeleton-text.medium {
            width: 80%;
        }
        
        .skeleton-text.long {
            width: 100%;
        }
        
        .skeleton-avatar {
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
        }
        
        .skeleton-card {
            padding: 1rem;
            border-radius: 1rem;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
        }
        
        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Hover Micro-interactions */
        .micro-hover {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .micro-hover:hover {
            transform: scale(1.02);
            filter: brightness(1.1);
        }
        
        .micro-hover:active {
            transform: scale(0.98);
        }
        
        /* Bookmark Card Flip Animation */
        .bookmark-card-3d {
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.23, 1, 0.32, 1);
            cursor: pointer;
        }
        
        .bookmark-card-3d:hover {
            transform: rotateY(15deg) rotateX(5deg) translateZ(30px);
        }
        
        .bookmark-card-3d.flipped {
            transform: rotateY(180deg);
        }
        
        .bookmark-card-front,
        .bookmark-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 1rem;
            padding: 1rem;
        }
        
        .bookmark-card-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.2));
            backdrop-filter: blur(20px);
        }
        
        /* Enhanced Toast */
        .success-toast { 
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
        }
        .error-toast { 
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            box-shadow: 0 10px 30px rgba(239, 68, 68, 0.3);
        }
        .warning-toast { 
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            box-shadow: 0 10px 30px rgba(245, 158, 11, 0.3);
        }
        
        /* Enhanced Scrollbar */
        .scrollable::-webkit-scrollbar { width: 10px; }
        .scrollable::-webkit-scrollbar-track { 
            background: rgba(255, 255, 255, 0.1); 
            border-radius: 10px; 
        }
        .scrollable::-webkit-scrollbar-thumb { 
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.1)); 
            border-radius: 10px; 
            border: 2px solid transparent;
            background-clip: content-box;
        }
        .scrollable::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.2));
            background-clip: content-box;
        }
        
        /* Cosmic Dust Effect */
        .cosmic-dust {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -2;
        }
        
        .dust-particle {
            position: absolute;
            width: 1px;
            height: 1px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: float-dust 20s infinite linear;
        }
        
        @keyframes float-dust {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(100px);
                opacity: 0;
            }
        }
        
        /* Enhanced Search Input Glow */
        .search-input:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(79, 172, 254, 0.6);
            box-shadow: 0 0 0 8px rgba(79, 172, 254, 0.1), inset 0 2px 10px rgba(0, 0, 0, 0.1);
            transform: translateY(-3px);
            animation: searchGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes searchGlow {
            0% {
                box-shadow: 0 0 0 8px rgba(79, 172, 254, 0.1), inset 0 2px 10px rgba(0, 0, 0, 0.1);
            }
            100% {
                box-shadow: 0 0 0 12px rgba(79, 172, 254, 0.15), inset 0 2px 10px rgba(0, 0, 0, 0.1);
            }
        }
        
        /* Particle Explosion System */
        .particle {
            position: fixed;
            pointer-events: none;
            border-radius: 50%;
            animation: particle-explosion 1s ease-out forwards;
            z-index: 10000;
        }
        
        @keyframes particle-explosion {
            0% {
                opacity: 1;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0) translate(var(--dx), var(--dy));
            }
        }
        
        /* Theme System */
        .theme-cosmic {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            --secondary-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --accent-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        
        .theme-ocean {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --accent-gradient: linear-gradient(135deg, #00c6fb 0%, #005bea 100%);
        }
        
        .theme-sunset {
            --primary-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --secondary-gradient: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            --accent-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
        
        .theme-forest {
            --primary-gradient: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            --secondary-gradient: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%);
            --accent-gradient: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%);
        }
        
        .theme-neon {
            --primary-gradient: linear-gradient(135deg, #ff006e 0%, #8338ec 100%);
            --secondary-gradient: linear-gradient(135deg, #3a86ff 0%, #06ffa5 100%);
            --accent-gradient: linear-gradient(135deg, #ffbe0b 0%, #fb5607 100%);
        }
        
        /* Layout Options */
        .layout-compact .bookmark-grid {
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1rem;
        }
        
        .layout-spacious .bookmark-grid {
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2.5rem;
        }
        
        .layout-minimal .bookmark-grid {
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 0.8rem;
        }
        
        /* History Section */
        .history-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 0.8rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .history-item:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .history-time {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 0.5rem;
        }
        
        /* AI Suggestions */
        .ai-suggestions {
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.1), rgba(0, 242, 254, 0.1));
            border: 1px solid rgba(79, 172, 254, 0.3);
            border-radius: 1rem;
            padding: 1.5rem;
            margin: 1rem 0;
            backdrop-filter: blur(20px);
        }
        
        .ai-suggestion-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 0.8rem;
            padding: 1rem;
            margin: 0.8rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid #4facfe;
        }
        
        .ai-suggestion-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }
        
        .ai-badge {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 1rem;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: inline-block;
        }
        
        /* Smart Categories */
        .category-badge {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 1rem;
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(20px);
        }
        
        .category-badge:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.2));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }
        
        .category-badge.active {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            border-color: transparent;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
        }
        
        .category-folder {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 1rem;
            padding: 1rem;
            margin: 0.5rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(20px);
        }
        
        .category-folder:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(5px);
            border-color: rgba(255, 255, 255, 0.4);
        }
        
        .category-folder.expanded {
            background: rgba(255, 255, 255, 0.2);
            border-color: #4facfe;
        }
        
        /* Smart Notifications */
        .notification-center {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            max-width: 400px;
        }
        
        .notification {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 1rem;
            color: white;
            transform: translateX(100%);
            animation: slideInRight 0.5s ease forwards;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .notification.reminder {
            border-left: 4px solid #f59e0b;
        }
        
        .notification.digest {
            border-left: 4px solid #10b981;
        }
        
        .notification.suggestion {
            border-left: 4px solid #3b82f6;
        }
        
        @keyframes slideInRight {
            to {
                transform: translateX(0);
            }
        }
        
        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .notification-title {
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .notification-time {
            font-size: 0.8rem;
            opacity: 0.7;
        }
        
        .notification-content {
            font-size: 0.85rem;
            opacity: 0.9;
            line-height: 1.4;
        }
        
        .notification-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.8rem;
        }
        
        .notification-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 0.5rem;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .notification-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-1px);
        }
        
        /* Weather Widget */
        .weather-widget {
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.2));
            border: 1px solid rgba(79, 172, 254, 0.3);
            border-radius: 1.5rem;
            padding: 1.5rem;
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }
        
        .weather-widget::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        
        .weather-widget:hover::before {
            transform: translateX(100%);
        }
        
        .weather-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: weatherFloat 3s ease-in-out infinite;
        }
        
        @keyframes weatherFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        .weather-temp {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #ffffff, #a1c4fd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .weather-desc {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }
        
        .weather-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .weather-detail {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* Dynamic Background Themes */
        .theme-rain {
            --primary-gradient: linear-gradient(135deg, #2c3e50 0%, #34495e 50%, #5d6d7e 100%);
            --secondary-gradient: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            --accent-gradient: linear-gradient(135deg, #85c1e9 0%, #5dade2 100%);
        }
        
        .theme-snow {
            --primary-gradient: linear-gradient(135deg, #ecf0f1 0%, #bdc3c7 50%, #95a5a6 100%);
            --secondary-gradient: linear-gradient(135deg, #e8f4fd 0%, #d6eaf8 100%);
            --accent-gradient: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }
        
        .theme-cloudy {
            --primary-gradient: linear-gradient(135deg, #7f8c8d 0%, #95a5a6 50%, #bdc3c7 100%);
            --secondary-gradient: linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%);
            --accent-gradient: linear-gradient(135deg, #ecf0f1 0%, #d5dbdb 100%);
        }
        
        .theme-sunny {
            --primary-gradient: linear-gradient(135deg, #f39c12 0%, #e67e22 50%, #d35400 100%);
            --secondary-gradient: linear-gradient(135deg, #f1c40f 0%, #f39c12 100%);
            --accent-gradient: linear-gradient(135deg, #f7dc6f 0%, #f4d03f 100%);
        }
        
        .theme-clear-night {
            --primary-gradient: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            --secondary-gradient: linear-gradient(135deg, #533483 0%, #4a4e69 100%);
            --accent-gradient: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
        }
        
        /* Time-based Themes */
        .theme-dawn {
            --primary-gradient: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            --secondary-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            --accent-gradient: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
        }
        
        .theme-day {
            --primary-gradient: linear-gradient(135deg, #74b9ff 0%, #0984e3 50%, #6c5ce7 100%);
            --secondary-gradient: linear-gradient(135deg, #00cec9 0%, #00b894 100%);
            --accent-gradient: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
        }
        
        .theme-dusk {
            --primary-gradient: linear-gradient(135deg, #fd79a8 0%, #fdcb6e 50%, #e17055 100%);
            --secondary-gradient: linear-gradient(135deg, #e84393 0%, #fd79a8 100%);
            --accent-gradient: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
        }
        
        .theme-night {
            --primary-gradient: linear-gradient(135deg, #2d3436 0%, #636e72 50%, #74b9ff 100%);
            --secondary-gradient: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            --accent-gradient: linear-gradient(135deg, #fd79a8 0%, #fdcb6e 100%);
        }
        
        /* Holiday Themes */
        .theme-christmas {
            --primary-gradient: linear-gradient(135deg, #e74c3c 0%, #c0392b 50%, #8e44ad 100%);
            --secondary-gradient: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            --accent-gradient: linear-gradient(135deg, #f1c40f 0%, #f39c12 100%);
        }
        
        .theme-halloween {
            --primary-gradient: linear-gradient(135deg, #8b4513 0%, #a0522d 50%, #cd853f 100%);
            --secondary-gradient: linear-gradient(135deg, #ff4500 0%, #ff6347 100%);
            --accent-gradient: linear-gradient(135deg, #ffd700 0%, #ffa500 100%);
        }
        
        /* Animated Gradient Backgrounds */
        .animated-gradient {
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Weather Effects */
        .rain-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .rain-drop {
            position: absolute;
            width: 2px;
            height: 20px;
            background: linear-gradient(transparent, rgba(255, 255, 255, 0.8));
            animation: rainFall linear infinite;
            border-radius: 1px;
        }
        
        @keyframes rainFall {
            to { transform: translateY(100vh); }
        }
        
        .snow-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .snowflake {
            position: absolute;
            color: white;
            font-size: 1rem;
            animation: snowFall linear infinite;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }
        
        @keyframes snowFall {
            to { transform: translateY(100vh) rotate(360deg); }
        }
        
        /* Enhanced Weather Widget Responsive */
        @media (max-width: 768px) {
            .weather-widget {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            
            .weather-icon {
                font-size: 2.5rem;
                margin-bottom: 0.8rem;
            }
            
            .weather-temp {
                font-size: 2rem;
                margin-bottom: 0.4rem;
            }
            
            .weather-desc {
                font-size: 1rem;
                margin-bottom: 0.8rem;
            }
            
            .weather-details {
                grid-template-columns: 1fr;
                gap: 0.8rem;
            }
        }
        
        /* Fix for Tailwind CSS conflicts */
        .glass {
            background: var(--glass-bg) !important;
            backdrop-filter: blur(30px) !important;
            border: 1px solid var(--glass-border) !important;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
        }
        
        /* Ensure proper z-index stacking */
        .bg-animation {
            z-index: -2 !important;
        }
        
        .weather-widget {
            z-index: 1 !important;
        }
        
        /* Fix for button styles */
        .btn-primary, .btn-secondary {
            position: relative !important;
            z-index: 1 !important;
        }
        
        /* Ensure weather effects don't interfere with interactions */
        .rain-effect, .snow-effect {
            z-index: -1 !important;
            pointer-events: none !important;
        }

        /* Light mode enhancements */
        body.light {
            background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
            background-attachment: fixed;
        }
        
        body.light .glass {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }
        
        body.light .text-white { color: #1a1a1a !important; }
        body.light [class*="text-white/60"] { color: #4a4a4a !important; }
        body.light [class*="text-white/70"] { color: #3a3a3a !important; }
        
        /* Enhanced Typography */
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .mono { font-family: 'JetBrains Mono', monospace; }
        
        /* Pulse animation for loading states */
        .pulse-glow {
            animation: pulse-glow 2s infinite;
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(79, 172, 254, 0.3); }
            50% { box-shadow: 0 0 40px rgba(79, 172, 254, 0.6); }
        }
        
        /* Enhanced modal */
        .modal-backdrop {
            backdrop-filter: blur(10px);
            background: rgba(0, 0, 0, 0.5);
        }
        
        /* Improved focus states */
        .focus-ring:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.5);
        }
        
        /* Enhanced stats cards */
        .stat-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        /* Connection status indicator */
        .connection-status {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .connection-status.online {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }
        
        .connection-status.offline {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }
        
        /* Skeleton loading */
        .skeleton {
            background: linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
        }
        
        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Final CSS Fixes and Overrides */
        /* Ensure proper text colors */
        .text-white {
            color: #ffffff !important;
        }
        
        /* Fix for search input */
        .search-input {
            background: rgba(255, 255, 255, 0.1) !important;
            backdrop-filter: blur(25px) !important;
            border: 2px solid rgba(255, 255, 255, 0.2) !important;
            color: #ffffff !important;
        }
        
        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.6) !important;
        }
        
        /* Fix for AI suggestions */
        .ai-suggestions {
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.1), rgba(0, 242, 254, 0.1)) !important;
            border: 1px solid rgba(79, 172, 254, 0.3) !important;
            backdrop-filter: blur(20px) !important;
        }
        
        /* Fix for category badges */
        .category-badge {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1)) !important;
            backdrop-filter: blur(20px) !important;
        }
        
        /* Ensure proper spacing */
        .fade-in-up {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }
        
        /* Fix for mobile responsiveness */
        @media (max-width: 640px) {
            .glass {
                padding: 1rem !important;
                margin: 0.5rem !important;
            }
            
            .weather-widget {
                margin-bottom: 1rem !important;
            }
            
            .ai-suggestions {
                margin-bottom: 1rem !important;
            }
        }
    </style>

</head>
<body class="text-white flex flex-col min-h-screen">
    <!-- Animated Background -->
    <div class="bg-animation">
        <!-- Starfield -->
        <div class="stars" id="stars"></div>
        
        <!-- Cosmic Dust -->
        <div class="cosmic-dust" id="cosmicDust"></div>
        
        <!-- Floating Orbs -->
        <div class="floating-orb orb-1"></div>
        <div class="floating-orb orb-2"></div>
        <div class="floating-orb orb-3"></div>
    </div>
    
    <!-- Weather Effects -->
    <div id="weatherEffects"></div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 p-6 fade-in-up">
        <nav class="flex justify-between items-center max-w-7xl mx-auto" aria-label="Main Navigation">
            <div class="flex items-center gap-4">
                <div>
                    <h1 class="text-3xl font-bold bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent">Placeholder.dev</h1>
                    <p class="text-sm text-white/60">Advanced Search Dashboard</p>
                </div>
            </div>
            
            <nav class="flex gap-3">
                <button onclick="switchTab('dashboard')" class="btn-secondary active px-6 py-3 rounded-xl text-sm font-medium" id="tab-dashboard">Dashboard</button>
                <button onclick="switchTab('history')" class="btn-secondary px-6 py-3 rounded-xl text-sm font-medium" id="tab-history">History</button>
                <button onclick="switchTab('analytics')" class="btn-secondary px-6 py-3 rounded-xl text-sm font-medium" id="tab-analytics">Analytics</button>
                <button onclick="switchTab('games')" class="btn-secondary px-6 py-3 rounded-xl text-sm font-medium" id="tab-games">Games</button>
                <button onclick="switchTab('labs')" class="btn-secondary px-6 py-3 rounded-xl text-sm font-medium" id="tab-labs">Labs</button>
                <button onclick="switchTab('settings')" class="btn-secondary px-6 py-3 rounded-xl text-sm font-medium" id="tab-settings">Settings</button>
                <button id="themeToggle" class="btn-secondary px-4 py-2 rounded-xl text-sm ml-4">🌙</button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <div class="flex-1 max-w-7xl mx-auto px-6 pb-6 w-full">
        <!-- Dashboard Tab -->
        <div id="dashboard-content" class="tab-content">
            <!-- Search Section -->
            <div class="flex flex-col justify-center items-center py-12 fade-in-up delay-100">
                <div class="text-center mb-12">
                    <h2 class="text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent">Search Anything</h2>
                    <p class="text-xl text-white/80 max-w-2xl mx-auto">Your intelligent gateway to the web with real-time suggestions and bookmarks.</p>
                </div>
                
                <!-- Search Bar -->
                <div class="w-full max-w-4xl mb-8 relative">
                    <input type="text" id="searchInput" placeholder="Enter URL or search the web..." 
                           class="w-full h-20 px-8 pr-40 text-xl rounded-3xl search-input text-white placeholder-white/60 outline-none font-medium"
                           onkeypress="if(event.key==='Enter') handleSearch()">
                    <button onclick="handleSearch()" class="absolute right-3 top-3 h-14 px-10 btn-primary rounded-2xl text-white font-semibold flex items-center gap-3 text-lg">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                        Search
                    </button>
                </div>
                
                <!-- Quick Actions -->
                <div class="flex flex-wrap gap-4 mb-8">
                    <button onclick="addBookmark()" class="btn-secondary px-8 py-4 rounded-2xl text-white font-medium flex items-center gap-3">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                        </svg>
                        Add Bookmark
                    </button>
                    <button onclick="showRandomBookmark()" class="btn-secondary px-8 py-4 rounded-2xl text-white font-medium flex items-center gap-3">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                        </svg>
                        Random Site
                    </button>
                </div>
            </div>

            <!-- AI Suggestions Section -->
            <div class="ai-suggestions fade-in-up delay-150">
                <div class="flex items-center gap-3 mb-4">
                    <div class="ai-badge">🤖 AI</div>
                    <h3 class="text-xl font-semibold">Smart Suggestions</h3>
                </div>
                <div id="aiSuggestions" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- AI suggestions will be populated here -->
                </div>
            </div>
            
            <!-- Weather Widget Section -->
            <div class="weather-widget fade-in-up delay-175 mb-8">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xl font-semibold">Local Weather</h3>
                    <button onclick="refreshWeather()" class="btn-secondary px-3 py-1 rounded-lg text-sm">🔄</button>
                </div>
                <div id="weatherContent" class="text-center">
                    <div class="weather-icon">🌤️</div>
                    <div class="weather-temp">--°C</div>
                    <div class="weather-desc">Loading weather...</div>
                    <div class="weather-details">
                        <div class="weather-detail">
                            <span>💨</span>
                            <span>-- km/h</span>
                        </div>
                        <div class="weather-detail">
                            <span>💧</span>
                            <span>--%</span>
                        </div>
                        <div class="weather-detail">
                            <span>👁️</span>
                            <span>-- km</span>
                        </div>
                        <div class="weather-detail">
                            <span>🌡️</span>
                            <span>--°C</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Smart Categories Section -->
            <div class="glass rounded-3xl p-8 fade-in-up delay-175">
                <div class="flex items-center gap-3 mb-6">
                    <div class="ai-badge">📁</div>
                    <h3 class="text-xl font-semibold">Smart Categories</h3>
                    <button onclick="refreshCategories()" class="btn-secondary px-3 py-1 rounded-lg text-sm ml-auto">🔄</button>
                </div>
                <div id="smartCategories" class="space-y-4">
                    <!-- Smart categories will be populated here -->
                </div>
            </div>

            <!-- Bookmarks Section -->
            <div class="glass rounded-3xl p-8 fade-in-up delay-200">
                <div class="flex justify-between items-center mb-6">
                    <div class="flex items-center gap-4">
                        <h3 class="text-2xl font-semibold">Quick Access</h3>
                        <span id="bookmarkCount" class="px-4 py-2 rounded-full bg-white/20 text-sm font-medium">0 bookmarks</span>
                    </div>
                    <button onclick="exportBookmarks()" class="btn-secondary px-6 py-3 rounded-xl text-sm">Export</button>
                </div>
                
                <!-- Add search/filter, sort, and folder/tag filter above bookmarks grid -->
                <div class="flex flex-wrap gap-4 mb-6 items-center">
                    <input id="bookmarkSearch" type="text" placeholder="Search bookmarks..." class="search-input px-4 py-2 rounded-xl text-black" oninput="renderBookmarks()">
                    <select id="bookmarkSort" class="search-input px-4 py-2 rounded-xl text-black" onchange="renderBookmarks()">
                        <option value="date">Sort by Date</option>
                        <option value="name">Sort by Name</option>
                        <option value="clicks">Sort by Clicks</option>
                    </select>
                    <select id="bookmarkFolder" class="search-input px-4 py-2 rounded-xl text-black" onchange="renderBookmarks()">
                        <option value="">All Folders</option>
                        <!-- Folders will be populated dynamically -->
                    </select>
                    <button onclick="triggerImport()" class="btn-secondary px-4 py-2 rounded-xl text-sm">Import</button>
                    <input id="importInput" type="file" accept=".json" class="hidden" onchange="importBookmarks(event)">
                </div>
                
                <div id="bookmarkGrid" class="bookmark-grid scrollable max-h-96">
                    <!-- Bookmarks will be rendered here -->
                </div>
                
                <div id="emptyBookmarks" class="text-center py-16 text-white/60">
                    <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-white/10 flex items-center justify-center">
                        <svg class="w-12 h-12 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"/>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-semibold mb-2">No bookmarks yet</h3>
                    <p class="text-lg">Add some to get started!</p>
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics-content" class="tab-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 py-8">
                <div class="glass rounded-3xl p-8">
                    <h2 class="text-2xl font-semibold mb-6">Usage Analytics</h2>
                    <div class="h-64"><canvas id="usageChart"></canvas></div>
                </div>
                <div class="glass rounded-3xl p-8">
                    <h2 class="text-2xl font-semibold mb-6">Top Bookmarks</h2>
                    <div id="topBookmarksList" class="space-y-4 scrollable max-h-64"></div>
                </div>
            </div>
        </div>

        <!-- History Tab -->
        <div id="history-content" class="tab-content hidden">
            <div class="glass rounded-3xl p-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-semibold">Search & Visit History</h2>
                    <button onclick="clearHistory()" class="btn-secondary px-4 py-2 rounded-xl text-sm">Clear History</button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Recent Searches</h3>
                        <div id="searchHistory" class="space-y-3 max-h-96 overflow-y-auto">
                            <!-- Search history will be populated here -->
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Recent Visits</h3>
                        <div id="visitHistory" class="space-y-3 max-h-96 overflow-y-auto">
                            <!-- Visit history will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Games Tab -->
        <div id="games-content" class="tab-content hidden fade-in-up delay-300">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold text-white mb-4">🎮 Games Center</h2>
                <p class="text-xl text-white/70">Take a break and enjoy some fun games!</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Mini Games Section -->
                <div class="glass rounded-3xl p-8">
                    <h3 class="text-2xl font-semibold text-white mb-6 flex items-center gap-3">
                        🕹️ Mini Games
                    </h3>
                    <div class="space-y-4">
                        <button onclick="playSnakeGame()" class="w-full btn-primary py-4 rounded-2xl text-white font-semibold flex items-center justify-center gap-3">
                            🐍 Snake Game
                        </button>
                        <button onclick="playTicTacToe()" class="w-full btn-primary py-4 rounded-2xl text-white font-semibold flex items-center justify-center gap-3">
                            ⭕ Tic Tac Toe
                        </button>
                        <button onclick="playMemoryGame()" class="w-full btn-primary py-4 rounded-2xl text-white font-semibold flex items-center justify-center gap-3">
                            🧠 Memory Game
                        </button>
                        <button onclick="playGuessNumber()" class="w-full btn-primary py-4 rounded-2xl text-white font-semibold flex items-center justify-center gap-3">
                            🔢 Number Guessing
                        </button>
                    </div>
                </div>

                <!-- Popular Game Sites -->
                <div class="glass rounded-3xl p-8">
                    <h3 class="text-2xl font-semibold text-white mb-6 flex items-center gap-3">
                        🌐 Game Websites
                    </h3>
                    <div class="space-y-4">
                        <a href="https://itch.io" target="_blank" class="w-full btn-secondary py-4 rounded-2xl text-white font-semibold flex items-center justify-center gap-3 hover:scale-105 transition-all">
                            🎮 itch.io - Indie Games
                        </a>
                        <a href="https://poki.com" target="_blank" class="w-full btn-secondary py-4 rounded-2xl text-white font-semibold flex items-center justify-center gap-3 hover:scale-105 transition-all">
                            🕹️ Poki - Browser Games
                        </a>
                        <a href="https://armorgames.com" target="_blank" class="w-full btn-secondary py-4 rounded-2xl text-white font-semibold flex items-center justify-center gap-3 hover:scale-105 transition-all">
                            ⚔️ Armor Games
                        </a>
                        <a href="https://kongregate.com" target="_blank" class="w-full btn-secondary py-4 rounded-2xl text-white font-semibold flex items-center justify-center gap-3 hover:scale-105 transition-all">
                            👑 Kongregate
                        </a>
                    </div>
                </div>
            </div>

            <!-- Game Canvas Area -->
            <div id="gameArea" class="glass rounded-3xl p-8 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h3 id="gameTitle" class="text-2xl font-semibold text-white"></h3>
                    <button onclick="closeGame()" class="btn-secondary px-4 py-2 rounded-xl">Close Game</button>
                </div>
                <div id="gameCanvas" class="flex justify-center items-center min-h-96">
                    <!-- Game content will be inserted here -->
                </div>
                <div id="gameScore" class="text-center text-white mt-4"></div>
            </div>
        </div>

        <!-- Labs Tab -->
        <div id="labs-content" class="tab-content hidden">
            <div class="glass rounded-3xl p-8">
                <h2 class="text-2xl font-semibold mb-8">Export Bookmarks</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <button onclick="exportBookmarks('json')" class="btn-primary p-6 rounded-2xl text-left">
                        <h3 class="text-lg font-semibold mb-2">Export as JSON</h3>
                        <p class="text-white/70">Download your bookmarks as a JSON file</p>
                    </button>
                    <button onclick="exportBookmarks('html')" class="btn-primary p-6 rounded-2xl text-left">
                        <h3 class="text-lg font-semibold mb-2">Export as HTML</h3>
                        <p class="text-white/70">Download as browser-compatible HTML</p>
                    </button>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings-content" class="tab-content hidden">
            <div class="glass rounded-3xl p-8">
                <h2 class="text-2xl font-semibold mb-8">Settings & Customization</h2>
                
                <!-- Theme Selection -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">Choose Theme</h3>
                    <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                        <button onclick="setTheme('cosmic')" class="theme-option p-4 rounded-xl border-2 border-transparent hover:border-white/30 transition-all" data-theme="cosmic">
                            <div class="w-16 h-16 rounded-lg bg-gradient-to-br from-purple-500 via-pink-500 to-blue-500 mb-2"></div>
                            <span class="text-sm font-medium">Cosmic</span>
                        </button>
                        <button onclick="setTheme('ocean')" class="theme-option p-4 rounded-xl border-2 border-transparent hover:border-white/30 transition-all" data-theme="ocean">
                            <div class="w-16 h-16 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 mb-2"></div>
                            <span class="text-sm font-medium">Ocean</span>
                        </button>
                        <button onclick="setTheme('sunset')" class="theme-option p-4 rounded-xl border-2 border-transparent hover:border-white/30 transition-all" data-theme="sunset">
                            <div class="w-16 h-16 rounded-lg bg-gradient-to-br from-pink-500 to-yellow-500 mb-2"></div>
                            <span class="text-sm font-medium">Sunset</span>
                        </button>
                        <button onclick="setTheme('forest')" class="theme-option p-4 rounded-xl border-2 border-transparent hover:border-white/30 transition-all" data-theme="forest">
                            <div class="w-16 h-16 rounded-lg bg-gradient-to-br from-green-400 to-blue-500 mb-2"></div>
                            <span class="text-sm font-medium">Forest</span>
                        </button>
                        <button onclick="setTheme('neon')" class="theme-option p-4 rounded-xl border-2 border-transparent hover:border-white/30 transition-all" data-theme="neon">
                            <div class="w-16 h-16 rounded-lg bg-gradient-to-br from-pink-600 to-purple-600 mb-2"></div>
                            <span class="text-sm font-medium">Neon</span>
                        </button>
                    </div>
                </div>
                
                <!-- Layout Options -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">Layout Style</h3>
                    <div class="grid grid-cols-3 gap-4">
                        <button onclick="setLayout('compact')" class="layout-option p-4 rounded-xl border-2 border-transparent hover:border-white/30 transition-all" data-layout="compact">
                            <div class="w-16 h-16 rounded-lg bg-white/10 flex items-center justify-center mb-2">
                                <div class="grid grid-cols-3 gap-1 w-10 h-10">
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                </div>
                            </div>
                            <span class="text-sm font-medium">Compact</span>
                        </button>
                        <button onclick="setLayout('spacious')" class="layout-option p-4 rounded-xl border-2 border-transparent hover:border-white/30 transition-all" data-layout="spacious">
                            <div class="w-16 h-16 rounded-lg bg-white/10 flex items-center justify-center mb-2">
                                <div class="grid grid-cols-2 gap-2 w-10 h-10">
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                </div>
                            </div>
                            <span class="text-sm font-medium">Spacious</span>
                        </button>
                        <button onclick="setLayout('minimal')" class="layout-option p-4 rounded-xl border-2 border-transparent hover:border-white/30 transition-all" data-layout="minimal">
                            <div class="w-16 h-16 rounded-lg bg-white/10 flex items-center justify-center mb-2">
                                <div class="grid grid-cols-4 gap-0.5 w-10 h-10">
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                    <div class="bg-white/60 rounded"></div>
                                </div>
                            </div>
                            <span class="text-sm font-medium">Minimal</span>
                        </button>
                    </div>
                </div>
                
                <!-- Other Settings -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-white/80 mb-3 font-medium">Default Search Engine</label>
                        <select id="defaultSearchEngine" class="search-input w-full px-4 py-3 rounded-xl text-black">
                            <option value="google">Google</option>
                            <option value="bing">Bing</option>
                            <option value="duckduckgo">DuckDuckGo</option>
                            <option value="brave">Brave Search</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-white/80 mb-3 font-medium">Particle Effects</label>
                        <select id="particleLevel" class="search-input w-full px-4 py-3 rounded-xl text-black">
                            <option value="high">High (Lots of particles)</option>
                            <option value="medium">Medium (Balanced)</option>
                            <option value="low">Low (Minimal)</option>
                            <option value="off">Off (No particles)</option>
                        </select>
                    </div>
                </div>
                
                <div class="mt-8 pt-6 border-t border-white/20">
                    <button onclick="saveSettings()" class="btn-primary px-8 py-3 rounded-xl text-white font-semibold">Save Settings</button>
                    <button onclick="resetSettings()" class="btn-secondary px-6 py-3 rounded-xl text-white font-medium ml-4">Reset to Default</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="glass mt-auto p-6">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <p class="text-white/60">Placeholder.dev - Advanced Search Dashboard</p>
            <div class="flex items-center gap-4 text-sm text-white/60">
                <span id="footerBookmarkCount">0 bookmarks</span>
                <span>•</span>
                <span>Version 2.0</span>
            </div>
        </div>
    </footer>

    <!-- Add Bookmark Modal -->
    <div id="bookmarkModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden flex items-center justify-center p-4 z-50">
        <div class="glass rounded-3xl p-10 w-full max-w-lg">
            <div class="flex justify-between items-center mb-8">
                <h3 class="text-2xl font-semibold text-white">Add Bookmark</h3>
                <button onclick="closeModal()" class="text-white/60 hover:text-white">×</button>
            </div>
            <div class="space-y-6">
                <div>
                    <label class="block text-white/80 mb-3 font-medium">Bookmark Name</label>
                    <input type="text" id="bookmarkName" placeholder="Enter bookmark name..." 
                           class="w-full h-14 px-6 rounded-2xl search-input text-white placeholder-white/60 outline-none">
                </div>
                <div>
                    <label class="block text-white/80 mb-3 font-medium">URL</label>
                    <input type="text" id="bookmarkUrl" placeholder="Enter URL..." 
                           class="w-full h-14 px-6 rounded-2xl search-input text-white placeholder-white/60 outline-none">
                </div>
                <!-- In the Add/Edit Bookmark Modal, add fields for tags/folder/note -->
                <div class="space-y-4">
                    <input id="bookmarkTags" type="text" placeholder="Tags (comma separated)" class="search-input w-full px-4 py-2 rounded-xl text-black">
                    <input id="bookmarkFolderInput" type="text" placeholder="Folder" class="search-input w-full px-4 py-2 rounded-xl text-black">
                    <textarea id="bookmarkNote" placeholder="Note" class="search-input w-full px-4 py-2 rounded-xl text-black"></textarea>
                </div>
                <div class="flex gap-4 pt-6">
                    <button onclick="saveBookmark()" class="flex-1 btn-primary h-14 rounded-2xl text-white font-semibold">Save</button>
                    <button onclick="closeModal()" class="flex-1 btn-secondary h-14 rounded-2xl text-white font-medium">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Center -->
    <div id="notificationCenter" class="notification-center"></div>
    
    <!-- Error Container -->
    <div id="errorContainer" class="fixed top-6 right-6 z-50 space-y-3"></div>

    <script>
        // Global variables
        let bookmarks = JSON.parse(localStorage.getItem('bookmarks') || '[]');
        let analytics = JSON.parse(localStorage.getItem('analytics') || '{"clicks": {}, "daily": {}}');
        let searchHistory = JSON.parse(localStorage.getItem('searchHistory') || '[]');
        let visitHistory = JSON.parse(localStorage.getItem('visitHistory') || '[]');
        let currentTab = 'dashboard';
        let currentTheme = localStorage.getItem('theme') || 'cosmic';
        let currentLayout = localStorage.getItem('layout') || 'spacious';
        let particleLevel = localStorage.getItem('particleLevel') || 'medium';
        let defaultSearchEngine = localStorage.getItem('defaultSearchEngine') || 'google';

        // Error handler
        function showToast(message, type = 'success') {
            const container = document.getElementById('errorContainer');
            const toast = document.createElement('div');
            toast.className = `glass rounded-2xl p-4 text-white max-w-sm ${type}-toast`;
            toast.innerHTML = `<span class="font-medium">${message}</span>`;
            container.appendChild(toast);
            setTimeout(() => container.removeChild(toast), 3000);
        }

        // Search functionality with loading.html
        function handleSearch() {
            const input = document.getElementById('searchInput');
            const query = input.value.trim();
            if (!query) return showToast('Please enter a search term', 'warning');

            // Add to search history
            addToSearchHistory(query);

            let url = query.includes('.') && !query.includes(' ') ? 
                (query.startsWith('http') ? query : 'https://' + query) :
                getSearchEngineUrl(query);

            // Create particle explosion effect
            createParticleExplosion(input.offsetLeft + input.offsetWidth / 2, input.offsetTop + input.offsetHeight / 2, '#4facfe', 20);

            // Create loading iframe
            const iframe = document.createElement('iframe');
            iframe.src = 'loading.html';
            iframe.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;border:none;z-index:9999';
            document.body.appendChild(iframe);

            // Try popup, fallback to redirect
            const popup = window.open('loading.html');
            setTimeout(() => {
                if (!popup || popup.closed) {
                    window.location.href = url;
                } else {
                    popup.location.href = url;
                    setTimeout(() => document.body.removeChild(iframe), 500);
                }
            }, 1000);

            input.value = '';
            trackAnalytics('search');
        }
        
        // Get search engine URL based on user preference
        function getSearchEngineUrl(query) {
            const searchQuery = encodeURIComponent(query);
            switch(defaultSearchEngine) {
                case 'bing':
                    return `https://www.bing.com/search?q=${searchQuery}`;
                case 'duckduckgo':
                    return `https://duckduckgo.com/?q=${searchQuery}`;
                case 'brave':
                    return `https://search.brave.com/search?q=${searchQuery}`;
                default:
                    return `https://www.google.com/search?q=${searchQuery}`;
            }
        }
        
        // Load settings into form
        function loadSettings() {
            document.getElementById('defaultSearchEngine').value = defaultSearchEngine;
            document.getElementById('particleLevel').value = particleLevel;
            
            // Update theme and layout button states
            document.querySelectorAll('.theme-option').forEach(btn => {
                btn.classList.remove('border-white/60');
                if (btn.dataset.theme === currentTheme) {
                    btn.classList.add('border-white/60');
                }
            });
            
            document.querySelectorAll('.layout-option').forEach(btn => {
                btn.classList.remove('border-white/60');
                if (btn.dataset.layout === currentLayout) {
                    btn.classList.add('border-white/60');
                }
            });
        }

        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(content => content.classList.add('hidden'));
            document.querySelectorAll('.btn-secondary').forEach(btn => btn.classList.remove('active'));
            document.getElementById(tabName + '-content').classList.remove('hidden');
            document.getElementById('tab-' + tabName).classList.add('active');
            currentTab = tabName;
            
            // Create particle effect for tab switch
            const button = document.getElementById('tab-' + tabName);
            const rect = button.getBoundingClientRect();
            createParticleExplosion(rect.left + rect.width / 2, rect.top + rect.height / 2, '#f093fb', 15);
            
            // Render appropriate content
            switch(tabName) {
                case 'analytics':
                    renderAnalytics();
                    break;
                case 'history':
                    renderHistory();
                    break;
                case 'games':
                    renderGames();
                    break;
                case 'settings':
                    loadSettings();
                    break;
            }
        }

        // Bookmark management
        function addBookmark() {
            document.getElementById('bookmarkUrl').value = document.getElementById('searchInput').value;
            document.getElementById('bookmarkModal').classList.remove('hidden');
            document.getElementById('bookmarkName').focus();
        }

        function saveBookmark() {
            const name = document.getElementById('bookmarkName').value.trim();
            const url = document.getElementById('bookmarkUrl').value.trim();
            if (!name || !url) return showToast('Please fill in both fields', 'warning');

            const finalUrl = url.includes('.') && !url.includes(' ') ? 
                (url.startsWith('http') ? url : 'https://' + url) : url;

            const tags = document.getElementById('bookmarkTags').value.split(',').map(tag => tag.trim()).filter(tag => tag);
            const folder = document.getElementById('bookmarkFolderInput').value.trim();
            const note = document.getElementById('bookmarkNote').value.trim();

            const bookmark = {
                id: Date.now(),
                name: name,
                url: finalUrl,
                tags: tags,
                folder: folder,
                note: note,
                favicon: `https://www.google.com/s2/favicons?sz=64&domain=${new URL(finalUrl).hostname}`,
                created: new Date().toISOString(),
                clicks: 0
            };

            bookmarks.push(bookmark);
            analytics.clicks[bookmark.id] = 0;
            saveData();
            renderBookmarks();
            closeModal();
            showToast('Bookmark added successfully!');
        }

        function closeModal() {
            document.getElementById('bookmarkModal').classList.add('hidden');
            document.getElementById('bookmarkName').value = '';
            document.getElementById('bookmarkUrl').value = '';
            document.getElementById('bookmarkTags').value = '';
            document.getElementById('bookmarkFolderInput').value = '';
            document.getElementById('bookmarkNote').value = '';
        }

        function openBookmark(url, id) {
            // Add to visit history
            const bookmark = bookmarks.find(b => b.id === id);
            if (bookmark) {
                addToVisitHistory(url, bookmark.name);
            }
            
            // Same loading logic as search
            const iframe = document.createElement('iframe');
            iframe.src = 'loading.html';
            iframe.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;border:none;z-index:9999';
            document.body.appendChild(iframe);

            const popup = window.open('loading.html');
            setTimeout(() => {
                if (!popup || popup.closed) {
                    window.location.href = url;
                } else {
                    popup.location.href = url;
                    setTimeout(() => document.body.removeChild(iframe), 500);
                }
            }, 1000);

            // Update analytics
            if (bookmark) {
                bookmark.clicks++;
                analytics.clicks[id] = bookmark.clicks;
                const today = new Date().toDateString();
                analytics.daily[today] = (analytics.daily[today] || 0) + 1;
                saveData();
                renderBookmarks();
            }
        }

        function showRandomBookmark() {
            if (bookmarks.length === 0) return showToast('No bookmarks available', 'warning');
            const random = bookmarks[Math.floor(Math.random() * bookmarks.length)];
            openBookmark(random.url, random.id);
        }

        function renderBookmarks() {
            const grid = document.getElementById('bookmarkGrid');
            const empty = document.getElementById('emptyBookmarks');
            const search = document.getElementById('bookmarkSearch').value.toLowerCase();
            const sort = document.getElementById('bookmarkSort').value;
            const folder = document.getElementById('bookmarkFolder').value;

            // Show loading skeleton first
            grid.innerHTML = `
                <div class="skeleton-card">
                    <div class="skeleton-text long"></div>
                    <div class="skeleton-text medium"></div>
                    <div class="skeleton-text short"></div>
                </div>
                <div class="skeleton-card">
                    <div class="skeleton-text long"></div>
                    <div class="skeleton-text medium"></div>
                    <div class="skeleton-text short"></div>
                </div>
                <div class="skeleton-card">
                    <div class="skeleton-text long"></div>
                    <div class="skeleton-text medium"></div>
                    <div class="skeleton-text short"></div>
                </div>
            `;

            // Simulate loading delay for better UX
            setTimeout(() => {
                let filtered = bookmarks.filter(b =>
                    (!search || b.name.toLowerCase().includes(search) || b.url.toLowerCase().includes(search) || (b.tags && b.tags.join(',').toLowerCase().includes(search))) &&
                    (!folder || b.folder === folder)
                );
                if (sort === 'name') filtered.sort((a, b) => a.name.localeCompare(b.name));
                else if (sort === 'clicks') filtered.sort((a, b) => b.clicks - a.clicks);
                else filtered.sort((a, b) => new Date(b.created) - new Date(a.created));

                if (filtered.length === 0) {
                    grid.innerHTML = '';
                    empty.classList.remove('hidden');
                    return;
                }

                empty.classList.add('hidden');
                grid.innerHTML = filtered.map((bookmark, index) => `
                    <div class="bookmark-card-3d glass rounded-2xl p-4 flex flex-col gap-2 micro-hover depth-${(index % 4) + 1}" 
                         data-bookmark-id="${bookmark.id}" 
                         style="animation-delay: ${index * 0.1}s">
                        <div class="bookmark-card-front">
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-lg">${bookmark.name}</span>
                                <div class="flex gap-2">
                                    <button onclick="editBookmark(${bookmark.id})" class="btn-secondary px-2 py-1 rounded micro-hover">Edit</button>
                                    <button onclick="deleteBookmark(${bookmark.id})" class="btn-secondary px-2 py-1 rounded micro-hover">Delete</button>
                                    <button onclick="shareBookmark(${bookmark.id})" class="btn-secondary px-2 py-1 rounded micro-hover">Share</button>
                                    <button onclick="flipBookmarkCard(this)" class="btn-secondary px-2 py-1 rounded micro-hover">🔄</button>
                                </div>
                            </div>
                            <a href="${bookmark.url}" target="_blank" class="text-blue-200 underline break-all">${bookmark.url}</a>
                            <div class="flex flex-wrap gap-1">
                                ${(bookmark.tags || []).map(tag => `<span class="bg-white/20 px-2 py-1 rounded text-xs">${tag}</span>`).join('')}
                            </div>
                            <div class="text-white/70 text-sm">${bookmark.note || ''}</div>
                            <div class="text-xs text-white/40">Clicks: ${bookmark.clicks || 0} | Added: ${new Date(bookmark.created).toLocaleString()}</div>
                        </div>
                        <div class="bookmark-card-back">
                            <div class="text-center">
                                <div class="text-2xl mb-2">📊</div>
                                <div class="text-sm text-white/80 mb-2">Bookmark Analytics</div>
                                <div class="text-xs text-white/60">Created: ${new Date(bookmark.created).toLocaleDateString()}</div>
                                <div class="text-xs text-white/60">Last visited: ${bookmark.clicks > 0 ? 'Recently' : 'Never'}</div>
                                <div class="text-xs text-white/60">Category: ${getBookmarkCategory(bookmark.url)}</div>
                                <button onclick="showReminder(${bookmark.id})" class="btn-secondary px-3 py-1 rounded text-xs mt-2">Set Reminder</button>
                            </div>
                        </div>
                    </div>
                `).join('');
                
                updateBookmarkCount();
            }, 300);
        }
        
        function getBookmarkCategory(url) {
            const domain = new URL(url).hostname.replace('www.', '');
            if (domain.includes('google') || domain.includes('bing')) return 'Search';
            if (domain.includes('youtube') || domain.includes('netflix')) return 'Entertainment';
            if (domain.includes('github') || domain.includes('stackoverflow')) return 'Development';
            if (domain.includes('news') || domain.includes('bbc')) return 'News';
            return 'Other';
        }
        
        function flipBookmarkCard(button) {
            const card = button.closest('.bookmark-card-3d');
            card.classList.toggle('flipped');
            
            // Create particle effect
            const rect = card.getBoundingClientRect();
            createParticleExplosion(rect.left + rect.width / 2, rect.top + rect.height / 2, '#f093fb', 15);
        }

        function updateBookmarkCount() {
            const count = bookmarks.length;
            document.getElementById('bookmarkCount').textContent = `${count} bookmark${count !== 1 ? 's' : ''}`;
            document.getElementById('footerBookmarkCount').textContent = `${count} bookmark${count !== 1 ? 's' : ''}`;
        }

        // Export functionality
        function exportBookmarks(format = 'json') {
            if (bookmarks.length === 0) return showToast('No bookmarks to export', 'warning');

            let content, filename, mimeType;
            if (format === 'json') {
                content = JSON.stringify({ bookmarks, exportDate: new Date().toISOString() }, null, 2);
                filename = `bookmarks-${new Date().toISOString().split('T')[0]}.json`;
                mimeType = 'application/json';
            } else {
                content = `<!DOCTYPE NETSCAPE-Bookmark-file-1>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
${bookmarks.map(b => `    <DT><A HREF="${b.url}">${b.name}</A>`).join('\n')}
</DL><p>`;
                filename = `bookmarks-${new Date().toISOString().split('T')[0]}.html`;
                mimeType = 'text/html';
            }

            const blob = new Blob([content], { type: mimeType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
            showToast(`Bookmarks exported as ${format.toUpperCase()}`);
        }

        // Analytics
        function trackAnalytics(type) {
            const today = new Date().toDateString();
            analytics.daily[today] = (analytics.daily[today] || 0) + 1;
            saveData();
        }

        function renderAnalytics() {
            // Simple analytics display
            const totalClicks = Object.values(analytics.clicks).reduce((sum, clicks) => sum + clicks, 0);
            const weekClicks = Object.values(analytics.daily).slice(-7).reduce((sum, clicks) => sum + clicks, 0);
            
            document.getElementById('topBookmarksList').innerHTML = bookmarks
                .sort((a, b) => (b.clicks || 0) - (a.clicks || 0))
                .slice(0, 5)
                .map((bookmark, index) => `
                    <div class="flex items-center gap-4 p-4 rounded-xl bg-white/5">
                        <div class="w-8 h-8 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm">
                            ${index + 1}
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-white truncate">${bookmark.name}</h4>
                            <p class="text-sm text-white/60">${bookmark.clicks} clicks</p>
                        </div>
                    </div>
                `).join('') || '<div class="text-center text-white/60 py-8">No bookmark data yet</div>';
        }

        // Data persistence
        function saveData() {
            localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
            localStorage.setItem('analytics', JSON.stringify(analytics));
        }

        // Star Generation and Animation
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const cosmicDustContainer = document.getElementById('cosmicDust');
            const starCount = 150; // Number of stars
            const dustCount = 50; // Number of cosmic dust particles
            
            // Create stars
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                const size = Math.random() < 0.6 ? 'small' : Math.random() < 0.9 ? 'medium' : 'large';
                const isShooting = Math.random() < 0.02; // 2% chance of shooting star
                
                star.className = `star ${isShooting ? 'shooting' : size}`;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 5 + 's';
                
                if (isShooting) {
                    star.style.animationDelay = Math.random() * 8 + 's';
                }
                
                // Add interactive hover effect
                star.addEventListener('mouseenter', () => {
                    star.style.transform = 'scale(1.5)';
                    star.style.filter = 'brightness(1.5)';
                });
                
                star.addEventListener('mouseleave', () => {
                    star.style.transform = 'scale(1)';
                    star.style.filter = 'brightness(1)';
                });
                
                starsContainer.appendChild(star);
            }
            
            // Create cosmic dust
            for (let i = 0; i < dustCount; i++) {
                const dust = document.createElement('div');
                dust.className = 'dust-particle';
                dust.style.left = Math.random() * 100 + '%';
                dust.style.animationDelay = Math.random() * 20 + 's';
                dust.style.animationDuration = (15 + Math.random() * 10) + 's';
                cosmicDustContainer.appendChild(dust);
            }
        }
        
        // Particle Explosion System
        function createParticleExplosion(x, y, color = '#4facfe', count = 15) {
            if (particleLevel === 'off') return;
            
            const actualCount = particleLevel === 'high' ? count * 2 : 
                               particleLevel === 'medium' ? count : 
                               Math.floor(count / 2);
            
            for (let i = 0; i < actualCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.background = color;
                particle.style.width = Math.random() * 4 + 2 + 'px';
                particle.style.height = particle.style.width;
                
                // Random direction and distance
                const angle = (Math.PI * 2 * i) / actualCount;
                const velocity = 50 + Math.random() * 100;
                const dx = Math.cos(angle) * velocity;
                const dy = Math.sin(angle) * velocity;
                
                particle.style.setProperty('--dx', dx + 'px');
                particle.style.setProperty('--dy', dy + 'px');
                
                document.body.appendChild(particle);
                
                // Remove particle after animation
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 1000);
            }
        }
        
        // AI-Powered Features
        function generateAISuggestions() {
            const suggestions = [];
            const container = document.getElementById('aiSuggestions');
            
            // Analyze user behavior and generate suggestions
            if (bookmarks.length > 0) {
                // Most used bookmarks
                const mostUsed = bookmarks.sort((a, b) => (b.clicks || 0) - (a.clicks || 0)).slice(0, 3);
                suggestions.push({
                    type: 'frequent',
                    title: 'Frequently Used',
                    items: mostUsed,
                    icon: '⭐'
                });
                
                // Recent additions
                const recent = bookmarks.sort((a, b) => new Date(b.created) - new Date(a.created)).slice(0, 2);
                suggestions.push({
                    type: 'recent',
                    title: 'Recently Added',
                    items: recent,
                    icon: '🆕'
                });
            }
            
            // Search suggestions based on time
            const hour = new Date().getHours();
            if (hour >= 6 && hour < 12) {
                suggestions.push({
                    type: 'morning',
                    title: 'Morning Routine',
                    items: [
                        { name: 'Weather', url: 'https://weather.com', icon: '🌅' },
                        { name: 'News', url: 'https://news.google.com', icon: '📰' }
                    ],
                    icon: '🌅'
                });
            } else if (hour >= 12 && hour < 18) {
                suggestions.push({
                    type: 'afternoon',
                    title: 'Afternoon Boost',
                    items: [
                        { name: 'Productivity Tools', url: 'https://notion.so', icon: '⚡' },
                        { name: 'Learning', url: 'https://coursera.org', icon: '📚' }
                    ],
                    icon: '☀️'
                });
            } else {
                suggestions.push({
                    type: 'evening',
                    title: 'Evening Wind Down',
                    items: [
                        { name: 'Entertainment', url: 'https://netflix.com', icon: '🎬' },
                        { name: 'Music', url: 'https://spotify.com', icon: '🎵' }
                    ],
                    icon: '🌙'
                });
            }
            
            // Render suggestions
            container.innerHTML = suggestions.map(suggestion => `
                <div class="ai-suggestion-item micro-hover" onclick="handleAISuggestion('${suggestion.type}')">
                    <div class="flex items-center gap-3">
                        <span class="text-2xl">${suggestion.icon}</span>
                        <div>
                            <h4 class="font-semibold text-white">${suggestion.title}</h4>
                            <p class="text-sm text-white/70">${suggestion.items.length} suggestions</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        // Smart Categories System
        function generateSmartCategories() {
            const container = document.getElementById('smartCategories');
            const categories = analyzeBookmarkCategories();
            
            container.innerHTML = categories.map(category => `
                <div class="category-folder micro-hover" onclick="toggleCategory('${category.id}')">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">${category.icon}</span>
                            <div>
                                <h4 class="font-semibold text-white">${category.name}</h4>
                                <p class="text-sm text-white/70">${category.count} bookmarks</p>
                            </div>
                        </div>
                        <span class="text-white/60">${category.expanded ? '▼' : '▶'}</span>
                    </div>
                    <div class="category-bookmarks ${category.expanded ? '' : 'hidden'}" id="category-${category.id}">
                        ${category.bookmarks.map(bookmark => `
                            <div class="ml-8 mt-2 p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors cursor-pointer"
                                 onclick="openBookmark('${bookmark.url}', ${bookmark.id})">
                                <div class="text-sm text-white">${bookmark.name}</div>
                                <div class="text-xs text-white/60">${bookmark.url}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }
        
        function analyzeBookmarkCategories() {
            const categories = {};
            
            bookmarks.forEach(bookmark => {
                const domain = new URL(bookmark.url).hostname.replace('www.', '');
                let category = 'Other';
                let icon = '🌐';
                
                // Smart categorization based on domain
                if (domain.includes('google') || domain.includes('bing') || domain.includes('duckduckgo')) {
                    category = 'Search Engines';
                    icon = '🔍';
                } else if (domain.includes('youtube') || domain.includes('netflix') || domain.includes('spotify')) {
                    category = 'Entertainment';
                    icon = '🎬';
                } else if (domain.includes('github') || domain.includes('stackoverflow') || domain.includes('dev.to')) {
                    category = 'Development';
                    icon = '💻';
                } else if (domain.includes('news') || domain.includes('bbc') || domain.includes('cnn')) {
                    category = 'News';
                    icon = '📰';
                } else if (domain.includes('shop') || domain.includes('amazon') || domain.includes('ebay')) {
                    category = 'Shopping';
                    icon = '🛒';
                } else if (domain.includes('bank') || domain.includes('paypal') || domain.includes('stripe')) {
                    category = 'Finance';
                    icon = '💰';
                } else if (domain.includes('weather') || domain.includes('accuweather')) {
                    category = 'Weather';
                    icon = '🌤️';
                } else if (domain.includes('mail') || domain.includes('gmail') || domain.includes('outlook')) {
                    category = 'Email';
                    icon = '📧';
                }
                
                if (!categories[category]) {
                    categories[category] = {
                        id: category.toLowerCase().replace(/\s+/g, '-'),
                        name: category,
                        icon: icon,
                        count: 0,
                        bookmarks: [],
                        expanded: false
                    };
                }
                
                categories[category].count++;
                categories[category].bookmarks.push(bookmark);
            });
            
            return Object.values(categories).sort((a, b) => b.count - a.count);
        }
        
        function toggleCategory(categoryId) {
            const category = document.querySelector(`#category-${categoryId}`);
            const folder = category.parentElement;
            
            if (category.classList.contains('hidden')) {
                category.classList.remove('hidden');
                folder.classList.add('expanded');
                folder.querySelector('span:last-child').textContent = '▼';
            } else {
                category.classList.add('hidden');
                folder.classList.remove('expanded');
                folder.querySelector('span:last-child').textContent = '▶';
            }
        }
        
        function refreshCategories() {
            generateSmartCategories();
            showToast('Categories refreshed!', 'success');
        }
        
        // Smart Notification System
        function showNotification(type, title, content, actions = []) {
            const notificationCenter = document.getElementById('notificationCenter');
            const notification = document.createElement('div');
            const id = Date.now();
            
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div class="notification-header">
                    <div class="notification-title">${title}</div>
                    <div class="notification-time">${new Date().toLocaleTimeString()}</div>
                </div>
                <div class="notification-content">${content}</div>
                ${actions.length > 0 ? `
                    <div class="notification-actions">
                        ${actions.map(action => `
                            <button class="notification-btn" onclick="${action.onclick}">${action.text}</button>
                        `).join('')}
                    </div>
                ` : ''}
            `;
            
            notificationCenter.appendChild(notification);
            
            // Auto-remove after 8 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.transform = 'translateX(100%)';
                    setTimeout(() => notification.remove(), 500);
                }
            }, 8000);
            
            return id;
        }
        
        function showReminder(bookmarkId) {
            const bookmark = bookmarks.find(b => b.id === bookmarkId);
            if (!bookmark) return;
            
            showNotification('reminder', 'Bookmark Reminder', 
                `Don't forget to check: ${bookmark.name}`, [
                    { text: 'Open Now', onclick: `openBookmark('${bookmark.url}', ${bookmark.id})` },
                    { text: 'Dismiss', onclick: 'this.parentElement.parentElement.remove()' }
                ]
            );
        }
        
        function showDailyDigest() {
            const today = new Date().toDateString();
            const recentBookmarks = bookmarks.filter(b => 
                new Date(b.created).toDateString() === today
            );
            
            if (recentBookmarks.length > 0) {
                showNotification('digest', 'Daily Digest', 
                    `You added ${recentBookmarks.length} new bookmarks today!`, [
                        { text: 'View All', onclick: 'switchTab("dashboard")' },
                        { text: 'Dismiss', onclick: 'this.parentElement.parentElement.remove()' }
                ]);
            }
        }
        
        function showSmartSuggestion() {
            const unusedBookmarks = bookmarks.filter(b => (b.clicks || 0) === 0);
            if (unusedBookmarks.length > 0) {
                const randomBookmark = unusedBookmarks[Math.floor(Math.random() * unusedBookmarks.length)];
                showNotification('suggestion', 'Smart Suggestion', 
                    `Try visiting: ${randomBookmark.name}`, [
                        { text: 'Visit Now', onclick: `openBookmark('${randomBookmark.url}', ${randomBookmark.id})` },
                        { text: 'Maybe Later', onclick: 'this.parentElement.parentElement.remove()' }
                ]);
            }
        }
        
        // Schedule notifications
        function scheduleNotifications() {
            // Daily digest at 9 AM
            const now = new Date();
            const digestTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 9, 0, 0);
            if (now < digestTime) {
                setTimeout(showDailyDigest, digestTime.getTime() - now.getTime());
            } else {
                setTimeout(showDailyDigest, 24 * 60 * 60 * 1000 - (now.getTime() - digestTime.getTime()));
            }
            
            // Smart suggestions every 4 hours
            setInterval(showSmartSuggestion, 4 * 60 * 60 * 1000);
        }
        
        // Weather System
        const WEATHER_API_KEY = 'f07d134adcc345a3afa142417252808';
        let currentWeather = null;
        let userLocation = null;
        
        async function getWeatherData() {
            try {
                if (!userLocation) {
                    await getUserLocation();
                }
                
                if (!userLocation) {
                    throw new Error('Unable to get location');
                }
                
                const response = await fetch(`https://api.weatherapi.com/v1/current.json?key=${WEATHER_API_KEY}&q=${userLocation.lat},${userLocation.lon}&aqi=no`);
                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error.message);
                }
                
                currentWeather = data;
                updateWeatherDisplay();
                updateDynamicTheme();
                createWeatherEffects();
                
                return data;
            } catch (error) {
                console.error('Weather fetch error:', error);
                showToast('Weather data unavailable', 'warning');
                return null;
            }
        }
        
        async function getUserLocation() {
            try {
                // Try to get location from IP first
                const ipResponse = await fetch('https://ipapi.co/json/');
                const ipData = await ipResponse.json();
                
                if (ipData.latitude && ipData.longitude) {
                    userLocation = {
                        lat: ipData.latitude,
                        lon: ipData.longitude,
                        city: ipData.city || 'Unknown',
                        country: ipData.country_name || 'Unknown'
                    };
                    return userLocation;
                }
                
                // Fallback to browser geolocation
                return new Promise((resolve, reject) => {
                    if (!navigator.geolocation) {
                        reject(new Error('Geolocation not supported'));
                        return;
                    }
                    
                    navigator.geolocation.getCurrentPosition(
                        (position) => {
                            userLocation = {
                                lat: position.coords.latitude,
                                lon: position.coords.longitude,
                                city: 'Your Location',
                                country: 'Unknown'
                            };
                            resolve(userLocation);
                        },
                        (error) => {
                            reject(error);
                        },
                        { timeout: 10000, enableHighAccuracy: false }
                    );
                });
            } catch (error) {
                console.error('Location error:', error);
                return null;
            }
        }
        
        function updateWeatherDisplay() {
            if (!currentWeather) return;
            
            const weather = currentWeather.current;
            const location = currentWeather.location;
            
            const weatherIcon = getWeatherIcon(weather.condition.code, weather.is_day);
            const temp = Math.round(weather.temp_c);
            const desc = weather.condition.text;
            const wind = Math.round(weather.wind_kph);
            const humidity = weather.humidity;
            const visibility = Math.round(weather.vis_km);
            const feelsLike = Math.round(weather.feelslike_c);
            
            document.getElementById('weatherContent').innerHTML = `
                <div class="weather-icon">${weatherIcon}</div>
                <div class="weather-temp">${temp}°C</div>
                <div class="weather-desc">${desc}</div>
                <div class="weather-details">
                    <div class="weather-detail">
                        <span>💨</span>
                        <span>${wind} km/h</span>
                    </div>
                    <div class="weather-detail">
                        <span>💧</span>
                        <span>${humidity}%</span>
                    </div>
                    <div class="weather-detail">
                        <span>👁️</span>
                        <span>${visibility} km</span>
                    </div>
                    <div class="weather-detail">
                        <span>🌡️</span>
                        <span>${feelsLike}°C</span>
                    </div>
                </div>
            `;
        }
        
        function getWeatherIcon(code, isDay) {
            // Weather condition codes from WeatherAPI
            const icons = {
                1000: isDay ? '☀️' : '🌙', // Clear
                1003: isDay ? '⛅' : '☁️', // Partly cloudy
                1006: '☁️', // Cloudy
                1009: '☁️', // Overcast
                1030: '🌫️', // Mist
                1063: '🌦️', // Patchy rain
                1066: '🌨️', // Patchy snow
                1069: '🌨️', // Patchy sleet
                1087: '⛈️', // Thundery outbreaks
                1114: '🌨️', // Blowing snow
                1117: '❄️', // Blizzard
                1135: '🌫️', // Fog
                1147: '🌫️', // Freezing fog
                1150: '🌦️', // Patchy light drizzle
                1153: '🌦️', // Light drizzle
                1168: '🌧️', // Freezing drizzle
                1171: '🌧️', // Heavy freezing drizzle
                1180: '🌦️', // Slight rain showers
                1183: '🌧️', // Light rain showers
                1186: '🌧️', // Moderate rain showers
                1189: '🌧️', // Heavy rain showers
                1192: '🌧️', // Torrential rain showers
                1195: '🌧️', // Freezing rain
                1204: '🌨️', // Light sleet
                1207: '🌨️', // Moderate sleet
                1210: '🌨️', // Patchy light snow
                1213: '🌨️', // Light snow
                1216: '🌨️', // Patchy moderate snow
                1219: '🌨️', // Moderate snow
                1222: '🌨️', // Patchy heavy snow
                1225: '❄️', // Heavy snow
                1237: '🧊', // Ice pellets
                1240: '🌦️', // Light rain shower
                1243: '🌧️', // Moderate rain shower
                1246: '🌧️', // Heavy rain shower
                1249: '🌨️', // Light sleet showers
                1252: '🌨️', // Moderate sleet showers
                1255: '🌨️', // Light snow showers
                1258: '🌨️', // Moderate snow showers
                1261: '🧊', // Light showers of ice pellets
                1264: '🧊', // Moderate showers of ice pellets
                1273: '🌩️', // Patchy light rain with thunder
                1276: '⛈️', // Patchy moderate rain with thunder
                1279: '🌨️', // Patchy light snow with thunder
                1282: '🌨️', // Patchy moderate snow with thunder
            };
            
            return icons[code] || (isDay ? '🌤️' : '🌙');
        }
        
        function updateDynamicTheme() {
            if (!currentWeather) return;
            
            const weather = currentWeather.current;
            const hour = new Date().getHours();
            
            // Remove existing weather themes
            document.body.classList.remove('theme-rain', 'theme-snow', 'theme-cloudy', 'theme-sunny', 'theme-clear-night');
            
            // Apply weather-based theme
            if (weather.condition.text.toLowerCase().includes('rain') || weather.condition.text.toLowerCase().includes('drizzle')) {
                document.body.classList.add('theme-rain');
                createRainEffect();
            } else if (weather.condition.text.toLowerCase().includes('snow') || weather.condition.text.toLowerCase().includes('sleet')) {
                document.body.classList.add('theme-snow');
                createSnowEffect();
            } else if (weather.condition.text.toLowerCase().includes('cloud') || weather.condition.text.toLowerCase().includes('overcast')) {
                document.body.classList.add('theme-cloudy');
            } else if (weather.condition.text.toLowerCase().includes('clear') && weather.is_day) {
                document.body.classList.add('theme-sunny');
            } else if (weather.condition.text.toLowerCase().includes('clear') && !weather.is_day) {
                document.body.classList.add('theme-clear-night');
            }
            
            // Apply time-based theme
            if (hour >= 5 && hour < 8) {
                document.body.classList.add('theme-dawn');
            } else if (hour >= 8 && hour < 17) {
                document.body.classList.add('theme-day');
            } else if (hour >= 17 && hour < 20) {
                document.body.classList.add('theme-dusk');
            } else {
                document.body.classList.add('theme-night');
            }
            
            // Check for holidays
            checkHolidayTheme();
        }
        
        function checkHolidayTheme() {
            const today = new Date();
            const month = today.getMonth() + 1;
            const day = today.getDate();
            
            // Christmas (December 25)
            if (month === 12 && day === 25) {
                document.body.classList.add('theme-christmas');
            }
            // Halloween (October 31)
            else if (month === 10 && day === 31) {
                document.body.classList.add('theme-halloween');
            }
        }
        
        function createWeatherEffects() {
            const effectsContainer = document.getElementById('weatherEffects');
            effectsContainer.innerHTML = '';
            
            if (!currentWeather) return;
            
            const weather = currentWeather.current;
            const condition = weather.condition.text.toLowerCase();
            
            if (condition.includes('rain') || condition.includes('drizzle')) {
                createRainEffect();
            } else if (condition.includes('snow') || condition.includes('sleet')) {
                createSnowEffect();
            }
        }
        
        function createRainEffect() {
            const effectsContainer = document.getElementById('weatherEffects');
            const rainContainer = document.createElement('div');
            rainContainer.className = 'rain-effect';
            
            for (let i = 0; i < 100; i++) {
                const drop = document.createElement('div');
                drop.className = 'rain-drop';
                drop.style.left = Math.random() * 100 + '%';
                drop.style.animationDelay = Math.random() * 2 + 's';
                drop.style.animationDuration = (0.5 + Math.random() * 0.5) + 's';
                rainContainer.appendChild(drop);
            }
            
            effectsContainer.appendChild(rainContainer);
        }
        
        function createSnowEffect() {
            const effectsContainer = document.getElementById('weatherEffects');
            const snowContainer = document.createElement('div');
            snowContainer.className = 'snow-effect';
            
            const snowflakes = ['❄️', '❅', '❆', '✻', '✼', '❄'];
            
            for (let i = 0; i < 50; i++) {
                const flake = document.createElement('div');
                flake.className = 'snowflake';
                flake.textContent = snowflakes[Math.floor(Math.random() * snowflakes.length)];
                flake.style.left = Math.random() * 100 + '%';
                flake.style.animationDelay = Math.random() * 3 + 's';
                flake.style.animationDuration = (3 + Math.random() * 4) + 's';
                snowContainer.appendChild(flake);
            }
            
            effectsContainer.appendChild(snowContainer);
        }
        
        function refreshWeather() {
            showToast('Refreshing weather...', 'info');
            getWeatherData();
        }
        
        function handleAISuggestion(type) {
            // Handle different AI suggestion types
            switch(type) {
                case 'frequent':
                    showToast('Opening your most used bookmarks', 'info');
                    // Highlight most used bookmarks
                    const frequentBookmarks = bookmarks.sort((a, b) => (b.clicks || 0) - (a.clicks || 0)).slice(0, 3);
                    frequentBookmarks.forEach(bm => {
                        const element = document.querySelector(`[data-bookmark-id="${bm.id}"]`);
                        if (element) {
                            element.style.animation = 'pulse-glow 2s ease-in-out';
                            setTimeout(() => element.style.animation = '', 2000);
                        }
                    });
                    break;
                case 'recent':
                    showToast('Showing recently added bookmarks', 'info');
                    break;
                case 'morning':
                    showToast('Starting your morning routine', 'info');
                    window.open('https://weather.com', '_blank');
                    break;
                case 'afternoon':
                    showToast('Boosting your afternoon productivity', 'info');
                    window.open('https://notion.so', '_blank');
                    break;
                case 'evening':
                    showToast('Time to wind down', 'info');
                    window.open('https://spotify.com', '_blank');
                    break;
            }
            
            // Create particle explosion effect
            createParticleExplosion(window.innerWidth / 2, window.innerHeight / 2, '#4facfe', 25);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            createStars(); // Create the starfield
            generateAISuggestions(); // Generate AI suggestions
            generateSmartCategories(); // Generate smart categories
            renderBookmarks();
            document.getElementById('searchInput').focus();
            
            // Apply saved theme and layout
            setTheme(currentTheme);
            setLayout(currentLayout);
            
            // Schedule smart notifications
            scheduleNotifications();
            
            // Initialize weather system
            getWeatherData();
            
            // Add parallax effect to stars
            document.addEventListener('mousemove', (e) => {
                const stars = document.querySelectorAll('.star:not(.shooting)');
                const dust = document.querySelectorAll('.dust-particle');
                const mouseX = e.clientX / window.innerWidth;
                const mouseY = e.clientY / window.innerHeight;
                
                stars.forEach((star, index) => {
                    const speed = (index % 3 + 1) * 0.5;
                    const x = (mouseX - 0.5) * speed;
                    const y = (mouseY - 0.5) * speed;
                    star.style.transform = `translate(${x}px, ${y}px)`;
                });
                
                dust.forEach((particle, index) => {
                    const speed = (index % 2 + 1) * 0.3;
                    const x = (mouseX - 0.5) * speed;
                    const y = (mouseY - 0.5) * speed;
                    particle.style.transform = `translate(${x}px, ${y}px)`;
                });
            });
            
            // Add click effects to document
            document.addEventListener('click', (e) => {
                // Don't create particles for form inputs or specific elements
                if (e.target.tagName === 'INPUT' || e.target.tagName === 'SELECT' || e.target.tagName === 'TEXTAREA') return;
                if (e.target.closest('.particle')) return;
                
                // Create subtle particle effect for clicks
                createParticleExplosion(e.clientX, e.clientY, '#ffffff', 8);
            });
            
            // Add perspective scrolling effect
            document.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;
                const parallax = document.querySelectorAll('.perspective-scroll');
                parallax.forEach((element, index) => {
                    const speed = (index % 3 + 1) * 0.5;
                    element.style.transform = `translateZ(${scrolled * speed}px)`;
                });
            });
            

            
            // Show welcome notification
            setTimeout(() => {
                showNotification('suggestion', 'Welcome! 🎉', 
                    'Your dashboard is ready with smart categories, AI suggestions, 3D effects, and dynamic weather themes!', [
                        { text: 'Explore', onclick: 'switchTab("dashboard")' },
                        { text: 'Got it', onclick: 'this.parentElement.parentElement.remove()' }
                ]);
            }, 2000);
        });

        // Theme and Layout Management
        function setTheme(themeName) {
            currentTheme = themeName;
            document.body.className = `text-white flex flex-col min-h-screen theme-${themeName}`;
            localStorage.setItem('theme', themeName);
            
            // Update theme option buttons
            document.querySelectorAll('.theme-option').forEach(btn => {
                btn.classList.remove('border-white/60');
                if (btn.dataset.theme === themeName) {
                    btn.classList.add('border-white/60');
                }
            });
            
            // Create particle explosion effect
            createParticleExplosion(window.innerWidth / 2, 100, '#f093fb', 20);
        }
        
        function setLayout(layoutName) {
            currentLayout = layoutName;
            document.body.className = `text-white flex flex-col min-h-screen theme-${currentTheme} layout-${layoutName}`;
            localStorage.setItem('layout', layoutName);
            
            // Update layout option buttons
            document.querySelectorAll('.layout-option').forEach(btn => {
                btn.classList.remove('border-white/60');
                if (btn.dataset.layout === layoutName) {
                    btn.classList.add('border-white/60');
                }
            });
            
            // Re-render bookmarks with new layout
            renderBookmarks();
        }
        
        // Settings Management
        function saveSettings() {
            const searchEngine = document.getElementById('defaultSearchEngine').value;
            const particleLevel = document.getElementById('particleLevel').value;
            
            defaultSearchEngine = searchEngine;
            this.particleLevel = particleLevel;
            
            localStorage.setItem('defaultSearchEngine', searchEngine);
            localStorage.setItem('particleLevel', particleLevel);
            
            showToast('Settings saved successfully!', 'success');
            createParticleExplosion(window.innerWidth / 2, window.innerHeight / 2, '#10b981', 25);
        }
        
        function resetSettings() {
            if (confirm('Are you sure you want to reset all settings to default?')) {
                setTheme('cosmic');
                setLayout('spacious');
                defaultSearchEngine = 'google';
                particleLevel = 'medium';
                
                localStorage.setItem('defaultSearchEngine', 'google');
                localStorage.setItem('particleLevel', 'medium');
                
                document.getElementById('defaultSearchEngine').value = 'google';
                document.getElementById('particleLevel').value = 'medium';
                
                showToast('Settings reset to default!', 'info');
            }
        }
        
        // History Management
        function addToSearchHistory(query) {
            const historyItem = {
                id: Date.now(),
                query: query,
                timestamp: new Date().toISOString(),
                type: 'search'
            };
            
            searchHistory.unshift(historyItem);
            searchHistory = searchHistory.slice(0, 50); // Keep last 50
            localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
        }
        
        function addToVisitHistory(url, title) {
            const historyItem = {
                id: Date.now(),
                url: url,
                title: title || url,
                timestamp: new Date().toISOString(),
                type: 'visit'
            };
            
            visitHistory.unshift(historyItem);
            visitHistory = visitHistory.slice(0, 50); // Keep last 50
            localStorage.setItem('visitHistory', JSON.stringify(visitHistory));
        }
        
        function renderHistory() {
            const searchContainer = document.getElementById('searchHistory');
            const visitContainer = document.getElementById('visitHistory');
            
            if (searchContainer) {
                searchContainer.innerHTML = searchHistory.map(item => `
                    <div class="history-item" onclick="search('${item.query}')">
                        <div class="flex items-center gap-3">
                            <span class="text-xl">🔍</span>
                            <div class="flex-1">
                                <div class="font-medium text-white">${item.query}</div>
                                <div class="history-time">${new Date(item.timestamp).toLocaleString()}</div>
                            </div>
                        </div>
                    </div>
                `).join('') || '<div class="text-white/60 text-center py-4">No search history yet</div>';
            }
            
            if (visitContainer) {
                visitContainer.innerHTML = visitHistory.map(item => `
                    <div class="history-item" onclick="window.open('${item.url}', '_blank')">
                        <div class="flex items-center gap-3">
                            <span class="text-xl">🌐</span>
                            <div class="flex-1">
                                <div class="font-medium text-white">${item.title}</div>
                                <div class="text-sm text-white/70">${item.url}</div>
                                <div class="history-time">${new Date(item.timestamp).toLocaleString()}</div>
                            </div>
                        </div>
                    </div>
                `).join('') || '<div class="text-white/60 text-center py-4">No visit history yet</div>';
            }
        }
        
        function clearHistory() {
            if (confirm('Are you sure you want to clear all history?')) {
                searchHistory = [];
                visitHistory = [];
                localStorage.setItem('searchHistory', '[]');
                localStorage.setItem('visitHistory', '[]');
                renderHistory();
                showToast('History cleared!', 'success');
            }
        }
        
        // Enhanced Theme Toggle (Legacy support)
        document.getElementById('themeToggle').onclick = function() {
            const themes = ['cosmic', 'ocean', 'sunset', 'forest', 'neon'];
            const currentIndex = themes.indexOf(currentTheme);
            const nextIndex = (currentIndex + 1) % themes.length;
            setTheme(themes[nextIndex]);
        };

        // --- Add/Edit/Delete Bookmarks ---
        function editBookmark(id) {
            const bookmark = bookmarks.find(b => b.id === id);
            if (!bookmark) return;

            document.getElementById('bookmarkName').value = bookmark.name;
            document.getElementById('bookmarkUrl').value = bookmark.url;
            document.getElementById('bookmarkTags').value = bookmark.tags.join(', ');
            document.getElementById('bookmarkFolderInput').value = bookmark.folder;
            document.getElementById('bookmarkNote').value = bookmark.note;

            document.getElementById('bookmarkModal').classList.remove('hidden');
            document.getElementById('bookmarkName').focus();
        }

        function deleteBookmark(id) {
            bookmarks = bookmarks.filter(b => b.id !== id);
            delete analytics.clicks[id];
            saveData();
            renderBookmarks();
            showToast('Bookmark deleted');
        }

        // --- Import/Export ---
        function triggerImport() {
            document.getElementById('importInput').click();
        }
        function importBookmarks(event) {
            let file = event.target.files[0];
            if (!file) return;
            let reader = new FileReader();
            reader.onload = function(e) {
                try {
                    let imported = JSON.parse(e.target.result);
                    bookmarks = bookmarks.concat(imported);
                    localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
                    renderBookmarks();
                    showToast('Bookmarks imported successfully!');
                } catch (err) {
                    alert('Invalid file');
                }
            };
            reader.readAsText(file);
        }
        function exportBookmarks() {
            let blob = new Blob([JSON.stringify(bookmarks, null, 2)], {type: 'application/json'});
            let url = URL.createObjectURL(blob);
            let a = document.createElement('a');
            a.href = url;
            a.download = 'bookmarks.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        // --- Sharing ---
        function shareBookmark(id) {
            let bookmark = bookmarks.find(b => b.id === id);
            if (!bookmark) return;
            let shareUrl = `${location.origin}?bookmark=${encodeURIComponent(bookmark.id)}`;
            if (navigator.share) {
                navigator.share({title: bookmark.name, url: shareUrl});
            } else {
                prompt('Copy this link to share:', shareUrl);
            }
            // Optionally, generate QR code here
        }

        // --- Tag/Folder Population ---
        function updateFolderDropdown() {
            let folders = [...new Set(bookmarks.map(b => b.folder).filter(Boolean))];
            let folderSelect = document.getElementById('bookmarkFolder');
            folderSelect.innerHTML = '<option value="">All Folders</option>' + folders.map(f => `<option value="${f}">${f}</option>`).join('');
        }

        // --- On Load ---
        renderBookmarks();
        updateFolderDropdown();

        // --- Games Section Functions ---
        
        function renderGames() {
            // Games tab is static HTML, so just show it's ready
            showToast('Games loaded! Choose a game to play.', 'success');
        }

        // Snake Game
        let snakeGame = null;
        function playSnakeGame() {
            showGame('Snake Game', createSnakeGame());
        }

        function createSnakeGame() {
            const canvas = document.createElement('canvas');
            canvas.width = 400;
            canvas.height = 400;
            canvas.style.border = '2px solid #4facfe';
            canvas.style.backgroundColor = '#1a1a2e';
            const ctx = canvas.getContext('2d');

            let snake = [{x: 200, y: 200}];
            let direction = 'right';
            let food = {x: 100, y: 100};
            let score = 0;
            let gameRunning = true;

            function drawSnake() {
                ctx.fillStyle = '#4facfe';
                snake.forEach(segment => {
                    ctx.fillRect(segment.x, segment.y, 20, 20);
                });
            }

            function drawFood() {
                ctx.fillStyle = '#fa709a';
                ctx.fillRect(food.x, food.y, 20, 20);
            }

            function moveSnake() {
                if (!gameRunning) return;
                
                const head = {...snake[0]};
                switch(direction) {
                    case 'up': head.y -= 20; break;
                    case 'down': head.y += 20; break;
                    case 'left': head.x -= 20; break;
                    case 'right': head.x += 20; break;
                }

                // Check collision with walls
                if (head.x < 0 || head.x >= 400 || head.y < 0 || head.y >= 400) {
                    gameRunning = false;
                    document.getElementById('gameScore').innerHTML = `<span class="text-red-400">Game Over! Final Score: ${score}</span>`;
                    return;
                }

                // Check collision with self
                if (snake.some(segment => segment.x === head.x && segment.y === head.y)) {
                    gameRunning = false;
                    document.getElementById('gameScore').innerHTML = `<span class="text-red-400">Game Over! Final Score: ${score}</span>`;
                    return;
                }

                snake.unshift(head);

                // Check if food eaten
                if (head.x === food.x && head.y === food.y) {
                    score += 10;
                    food = {
                        x: Math.floor(Math.random() * 20) * 20,
                        y: Math.floor(Math.random() * 20) * 20
                    };
                    document.getElementById('gameScore').innerHTML = `Score: ${score}`;
                } else {
                    snake.pop();
                }
            }

            function gameLoop() {
                ctx.clearRect(0, 0, 400, 400);
                moveSnake();
                drawSnake();
                drawFood();
                if (gameRunning) {
                    setTimeout(gameLoop, 150);
                }
            }

            // Controls
            document.addEventListener('keydown', (e) => {
                if (!gameRunning) return;
                switch(e.key) {
                    case 'ArrowUp': if (direction !== 'down') direction = 'up'; break;
                    case 'ArrowDown': if (direction !== 'up') direction = 'down'; break;
                    case 'ArrowLeft': if (direction !== 'right') direction = 'left'; break;
                    case 'ArrowRight': if (direction !== 'left') direction = 'right'; break;
                }
            });

            gameLoop();
            document.getElementById('gameScore').innerHTML = `Score: ${score}`;
            
            const container = document.createElement('div');
            container.appendChild(canvas);
            const instructions = document.createElement('div');
            instructions.className = 'text-white text-center mt-4';
            instructions.innerHTML = 'Use arrow keys to control the snake';
            container.appendChild(instructions);
            
            return container;
        }

        // Tic Tac Toe Game
        function playTicTacToe() {
            showGame('Tic Tac Toe', createTicTacToe());
        }

        function createTicTacToe() {
            const container = document.createElement('div');
            container.className = 'text-center';
            
            let board = Array(9).fill('');
            let currentPlayer = 'X';
            let gameActive = true;

            const boardElement = document.createElement('div');
            boardElement.className = 'grid grid-cols-3 gap-2 w-64 h-64 mx-auto mb-4';

            function checkWinner() {
                const winPatterns = [
                    [0, 1, 2], [3, 4, 5], [6, 7, 8], // rows
                    [0, 3, 6], [1, 4, 7], [2, 5, 8], // columns
                    [0, 4, 8], [2, 4, 6] // diagonals
                ];

                for (let pattern of winPatterns) {
                    const [a, b, c] = pattern;
                    if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                        return board[a];
                    }
                }
                return board.includes('') ? null : 'tie';
            }

            function makeMove(index) {
                if (board[index] || !gameActive) return;
                
                board[index] = currentPlayer;
                updateBoard();
                
                const winner = checkWinner();
                if (winner) {
                    gameActive = false;
                    if (winner === 'tie') {
                        document.getElementById('gameScore').innerHTML = '<span class="text-yellow-400">It\'s a tie!</span>';
                    } else {
                        document.getElementById('gameScore').innerHTML = `<span class="text-green-400">Player ${winner} wins!</span>`;
                    }
                    return;
                }
                
                currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                document.getElementById('gameScore').innerHTML = `Current player: ${currentPlayer}`;
            }

            function updateBoard() {
                boardElement.innerHTML = '';
                board.forEach((cell, index) => {
                    const button = document.createElement('button');
                    button.className = 'w-20 h-20 bg-white/10 border-2 border-white/20 rounded-lg text-2xl font-bold text-white hover:bg-white/20 transition-all';
                    button.textContent = cell;
                    button.onclick = () => makeMove(index);
                    boardElement.appendChild(button);
                });
            }

            updateBoard();
            document.getElementById('gameScore').innerHTML = `Current player: ${currentPlayer}`;

            const resetButton = document.createElement('button');
            resetButton.className = 'btn-secondary px-4 py-2 rounded-xl mt-4';
            resetButton.textContent = 'Reset Game';
            resetButton.onclick = () => {
                board = Array(9).fill('');
                currentPlayer = 'X';
                gameActive = true;
                updateBoard();
                document.getElementById('gameScore').innerHTML = `Current player: ${currentPlayer}`;
            };

            container.appendChild(boardElement);
            container.appendChild(resetButton);
            
            return container;
        }

        // Memory Game
        function playMemoryGame() {
            showGame('Memory Game', createMemoryGame());
        }

        function createMemoryGame() {
            const container = document.createElement('div');
            container.className = 'text-center';
            
            const colors = ['#4facfe', '#fa709a', '#fee140', '#10b981', '#8b5cf6', '#f59e0b', '#ef4444', '#06b6d4'];
            let cards = [...colors, ...colors].sort(() => Math.random() - 0.5);
            let flippedCards = [];
            let matchedPairs = 0;
            let moves = 0;

            const boardElement = document.createElement('div');
            boardElement.className = 'grid grid-cols-4 gap-2 w-80 mx-auto mb-4';

            function createCard(colorIndex, index) {
                const card = document.createElement('div');
                card.className = 'w-16 h-16 bg-white/10 border-2 border-white/20 rounded-lg cursor-pointer flex items-center justify-center transition-all transform hover:scale-105';
                card.dataset.color = cards[index];
                card.dataset.index = index;
                
                card.onclick = () => flipCard(card, index);
                return card;
            }

            function flipCard(card, index) {
                if (flippedCards.length === 2 || card.classList.contains('flipped')) return;
                
                card.style.backgroundColor = cards[index];
                card.classList.add('flipped');
                flippedCards.push({ card, index });

                if (flippedCards.length === 2) {
                    moves++;
                    document.getElementById('gameScore').innerHTML = `Moves: ${moves} | Matched: ${matchedPairs}/8`;
                    
                    setTimeout(() => {
                        if (flippedCards[0].card.dataset.color === flippedCards[1].card.dataset.color) {
                            matchedPairs++;
                            flippedCards[0].card.style.opacity = '0.5';
                            flippedCards[1].card.style.opacity = '0.5';
                            
                            if (matchedPairs === 8) {
                                document.getElementById('gameScore').innerHTML = `<span class="text-green-400">You won in ${moves} moves!</span>`;
                            }
                        } else {
                            flippedCards[0].card.style.backgroundColor = '';
                            flippedCards[1].card.style.backgroundColor = '';
                            flippedCards[0].card.classList.remove('flipped');
                            flippedCards[1].card.classList.remove('flipped');
                        }
                        flippedCards = [];
                    }, 1000);
                }
            }

            for (let i = 0; i < 16; i++) {
                boardElement.appendChild(createCard(cards[i], i));
            }

            document.getElementById('gameScore').innerHTML = `Moves: ${moves} | Matched: ${matchedPairs}/8`;

            const resetButton = document.createElement('button');
            resetButton.className = 'btn-secondary px-4 py-2 rounded-xl mt-4';
            resetButton.textContent = 'New Game';
            resetButton.onclick = () => {
                cards = [...colors, ...colors].sort(() => Math.random() - 0.5);
                flippedCards = [];
                matchedPairs = 0;
                moves = 0;
                boardElement.innerHTML = '';
                for (let i = 0; i < 16; i++) {
                    boardElement.appendChild(createCard(cards[i], i));
                }
                document.getElementById('gameScore').innerHTML = `Moves: ${moves} | Matched: ${matchedPairs}/8`;
            };

            container.appendChild(boardElement);
            container.appendChild(resetButton);
            
            return container;
        }

        // Number Guessing Game
        function playGuessNumber() {
            showGame('Number Guessing Game', createGuessNumberGame());
        }

        function createGuessNumberGame() {
            const container = document.createElement('div');
            container.className = 'text-center max-w-md mx-auto';
            
            let targetNumber = Math.floor(Math.random() * 100) + 1;
            let attempts = 0;
            let gameWon = false;

            const input = document.createElement('input');
            input.type = 'number';
            input.min = '1';
            input.max = '100';
            input.placeholder = 'Enter a number between 1-100';
            input.className = 'w-full px-4 py-3 rounded-xl bg-white/10 border-2 border-white/20 text-white text-center mb-4 focus:border-blue-400 outline-none';

            const guessButton = document.createElement('button');
            guessButton.className = 'btn-primary px-6 py-3 rounded-xl mb-4 mr-4';
            guessButton.textContent = 'Guess!';

            const newGameButton = document.createElement('button');
            newGameButton.className = 'btn-secondary px-6 py-3 rounded-xl mb-4';
            newGameButton.textContent = 'New Game';

            const feedback = document.createElement('div');
            feedback.className = 'text-white mb-4';
            feedback.innerHTML = 'I\'m thinking of a number between 1 and 100. Can you guess it?';

            function makeGuess() {
                if (gameWon) return;
                
                const guess = parseInt(input.value);
                if (isNaN(guess) || guess < 1 || guess > 100) {
                    feedback.innerHTML = '<span class="text-red-400">Please enter a valid number between 1 and 100</span>';
                    return;
                }

                attempts++;
                
                if (guess === targetNumber) {
                    gameWon = true;
                    feedback.innerHTML = `<span class="text-green-400">🎉 Congratulations! You guessed it in ${attempts} attempts!</span>`;
                    document.getElementById('gameScore').innerHTML = `<span class="text-green-400">You won in ${attempts} attempts!</span>`;
                } else if (guess < targetNumber) {
                    feedback.innerHTML = `<span class="text-yellow-400">Too low! Try a higher number.</span>`;
                } else {
                    feedback.innerHTML = `<span class="text-yellow-400">Too high! Try a lower number.</span>`;
                }
                
                if (!gameWon) {
                    document.getElementById('gameScore').innerHTML = `Attempts: ${attempts}`;
                }
                
                input.value = '';
            }

            function newGame() {
                targetNumber = Math.floor(Math.random() * 100) + 1;
                attempts = 0;
                gameWon = false;
                input.value = '';
                feedback.innerHTML = 'I\'m thinking of a new number between 1 and 100. Can you guess it?';
                document.getElementById('gameScore').innerHTML = 'Attempts: 0';
            }

            guessButton.onclick = makeGuess;
            newGameButton.onclick = newGame;
            
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') makeGuess();
            });

            container.appendChild(feedback);
            container.appendChild(input);
            container.appendChild(guessButton);
            container.appendChild(newGameButton);
            
            document.getElementById('gameScore').innerHTML = 'Attempts: 0';
            
            return container;
        }

        // Game utilities
        function showGame(title, gameElement) {
            document.getElementById('gameTitle').textContent = title;
            document.getElementById('gameCanvas').innerHTML = '';
            document.getElementById('gameCanvas').appendChild(gameElement);
            document.getElementById('gameArea').classList.remove('hidden');
            
            // Scroll to game area
            document.getElementById('gameArea').scrollIntoView({ behavior: 'smooth' });
        }

        function closeGame() {
            document.getElementById('gameArea').classList.add('hidden');
            document.getElementById('gameCanvas').innerHTML = '';
            document.getElementById('gameScore').innerHTML = '';
        }

        window.playSnakeGame = playSnakeGame;
        window.playTicTacToe = playTicTacToe;
        window.playMemoryGame = playMemoryGame;
        window.playGuessNumber = playGuessNumber;
        window.closeGame = closeGame;

    </script>
</body>
</html>
